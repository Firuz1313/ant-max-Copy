Система TV интерфейсов для шагов диагностики

## Обзор

Система позволяет привязывать различные TV интерфейсы к каждому шагу диагностики. При прохождении диагностики интерфейс автоматически переключается на каждом шаге, показывая пользователю соответствующий экран приставки с интерактивными отметками.

## Принцип работы

### 1. Создание TV интерфейсов
- В админке → TV Интерфейсы можно создавать интерфейсы для разных состояний приставки
- Каждый интерфейс имеет скриншот и может содержать интерактивные отметки
- Типы интерфейсов: home, settings, channels, apps, guide, no-signal, error, custom

### 2. Привязка к шагам
- В админке → Управление шагами для каждого шага можно выбрать TV интерфейс
- Поле "Созданный интерфейс" позволяет выбрать нужный интерфейс из списка
- Можно оставить "Без интерфейса" если на шаге не нужно показывать экран

### 3. Отображение в диагностике
- На странице диагностики интерфейс загружается автоматически для текущего шага
- При нажатии "Далее" интерфейс переключается на следующий шаг
- Показываются отметки, специфичные для каждого шага

## Пример сценария

### Проблема: "Нет сигнала"

**Шаг 1**: Проверка кабелей
- TV интерфейс: "Нет сигнала" (черный экран)
- Отметки: нет (фокус на физических подключениях)

**Шаг 2**: Проверка питания  
- TV интерфейс: "Нет сигнала" (тот же экран)
- Отметки: нет (проверяем приставку)

**Шаг 3**: Выбор входа на TV
- TV интерфейс: не используется
- Отметки: нет (работаем с пультом телевизора)

### Проблема: "Пульт не работает"

**Шаг 1**: Проверка батареек
- TV интерфейс: "Главное меню" 
- Отметки: кнопки меню для проверки реакции

**Шаг 2**: Тест пульта
- TV интерфейс: "Настройки"
- Отметки: элементы настроек для тестирования навигации

## Технические детали

### База данных
- Поле `tv_interface_id` в таблице `diagnostic_steps`
- Связь с таблицей `tv_interfaces` чере�� foreign key
- JOIN в запросах для получения полной информации

### API
- GET `/api/v1/steps?include_details=true` возвращает шаги с TV интерфейсами
- GET `/api/v1/tv-interfaces/:id` для загрузки конкретного интерфейса
- GET `/api/v1/tv-interface-marks/step/:stepId` для получения отметок шага

### Frontend
- Компонент `DiagnosticPageNew` автоматически загружает интерфейс для шага
- `TVInterfaceDisplay` отображает интерфейс с отметками
- При смене шага (`handleNextStep`) автоматически загружается новый интерфейс

### Интерактивные отметки
- Каждая отметка может быть привязана к конкретному шагу через `step_id`
- Отметки могут содержать действия, подсказки, ожидаемые результаты
- Поддерживаются различные типы: точки, области, зоны
- Анимации: pulse, glow, bounce для привлечения внимания

## Расширение системы

### Добавление новых интерфейсов
1. Создать интерфейс в админке с скриншотом
2. Добавить интерактивные отметки если нужно
3. Привязать к нужным шагам в управлении шагами

### Создание отметок для шага
1. Открыть TV интерфейс в редакторе
2. Добавить отметки с указанием step_id
3. Настроить действия и подсказки для каждой отметки

### Логика ветвления
- Можно создавать разные наборы шагов для разных сценариев
- Условные переходы на основе действий пользователя
- Различные интерфейсы для успешного/неуспешного выполнения

## Примеры использования

1. **Навигация по меню**: Показать главный экран → отметить нужные кнопки
2. **Настройка каналов**: Показать экран настроек → отметить параметры
3. **Диагностика ошибок**: Показать экран ошибки → объяснить как исправить
4. **Обучение**: Пошаговое знакомство с интерфейсом приставки

Эта система делает диагностику интерактивной и наглядной, помогая пользователям лучше понимать какие действия нужно выполнить на каждом этапе.
